[security]
secure_sessions_with_HTTPS = true

[apis]
# These values can be obtained by registering your instance as an
# application with GitHub, at https://github.com/settings/applications/new
github_app_id = {{ treeview_github_app_id }}
github_client_id = {{ treeview_github_client_id }}
github_redirect_uri = {{ treeview_github_redirect_uri }}
github_app_installation_id = {{ treeview_github_app_installation_id }}

# DON'T INCLUDE 'github_client_secret' value here. For better security, this is
# loaded from a separate file and added to config data on-the-fly.


# List public-facing base URL for supporting data services
# (NOTE that these are used by both server- and client-side code)
[domains]
treemachine = {{ tree_of_life_endpoint }}
    # TODO: rename this to ???
taxomachine = {{ taxonomy_endpoint }}
    # TODO: rename this to ???
oti = {{ otindex_endpoint }}
    # TODO: rename this to otindex?
opentree_api = {{ tree_of_life_endpoint }}
    # TODO: rename this to phylesystem_api, phylesystem_api_domain (below)
collections_api_base_url = {{ curator_endpoint }}
    # TODO: use phylesystem_api here as well
favorites_api_base_url = {{ curator_endpoint }}
    # TODO: use phylesystem_api here as well
conflict_api = {{ conflict_endpoint }}
# Cached versions of some APIs will speed up repeated calls (see below).
# These use a simple web2py cache implemented in phylesystem-api
CACHED_treemachine = {{ tree_of_life_endpoint }}
    # TODO: reflect any name change to 'treemachine' above
CACHED_taxomachine = {{ tree_of_life_endpoint }}
    # TODO: reflect any name change to 'taxomachine' above
CACHED_oti = {{ otindex_endpoint }}/cached
    # TODO: reflect any name change to 'oti' above

# Building on the URLs above, complete the public-facing URL for all methods
# (again, these should work from both server- and client-side code)
#
# NOTE: In our example setup, all service methods are proxied through Apache as
# URLs within the main opentree site. So we assume that partial paths '/db/data/'
# are handled in the ProxyPass statement.
[method_urls]
getDraftTreeID_url = {{ tree_of_life_endpoint_cache }}/v3/tree_of_life/about
getSyntheticTree_url = {{ tree_of_life_endpoint_cache }}/v3/tree_of_life/subtree
getDraftSubtree_url = {{ tree_of_life_endpoint }}/v3/tree_of_life/subtree
doTNRSForAutocomplete_url = {{ taxonomy_endpoint }}/v3/tnrs/autocomplete_name
getContextsJSON_url = {{ taxonomy_endpoint_cache }}/v3/tnrs/contexts
getSynthesisSourceList_url = {{ tree_of_life_endpoint_cache }}/v3/tree_of_life/about
findAllStudies_url = {{ study_index_endpoint_cache }}/v3/studies/find_studies
singlePropertySearchForStudies_url = {{ study_index_endpoint }}/v3/studies/find_studies
singlePropertySearchForTrees_url = {{ curator_endpoint }}/v3/studies/find_trees
getTaxonInfo_url = {{ taxonomy_endpoint }}/v3/taxonomy/taxon_info
# Include one phylesystem-api method to download NexSON from Bibliographic References page
API_load_study_GET_url = {{ study_api_endpoint }}/v3/study/{STUDY_ID}

# The synth-tree viewer GUI includes links to a curation app. For "curatorless"
# installations, this should point to a working public curation app.
curation_app_url = {{ curation_webapp_url }}
